<%- include("navbar") %>

<div class="container text-center">
    <h2>Google Books Search</h2>

    <!-- Search Form -->
    <form id="googleBooksSearchForm" action="/books/googlebooks/search" method="GET" class="mb-4">
        <input type="text" id="googleBooksQuery" name="q" placeholder="Search for books..." required>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <% if (message) { %>
        <p><%= message %></p>
    <% } else { %>
        <div class="row">
            <% books.forEach((book) => { %>
                <div class="col-md-4">
                    <div class="card mb-4">
                        <% if (book.cover) { %>
                            <img src="<%= book.cover %>" alt="<%= book.title %>" class="card-img-top">
                        <% } else { %>
                            <img src="https://via.placeholder.com/128x190?text=No+Image" alt="No Image Available" class="card-img-top">
                        <% } %>
                        
                        <div class="card-body">
                            <h5 class="card-title"><%= book.title %></h5>
                            <p class="card-text"><strong>Author:</strong> <%= book.author %></p>
                            <p class="card-text"><strong>Published:</strong> <%= book.publishedDate || "N/A" %></p>
                            <a href="<%= book.googleBooksUrl %>" target="_blank" class="btn btn-primary">More Info</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    <% } %>
</div>

<%- include("footer") %>
